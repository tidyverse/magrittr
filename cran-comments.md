Fixes part of non-conformant C API calls.

See https://github.com/tidyverse/magrittr/issues/279 for progress, the rest needs some ongoing updates to r-devel.

## R CMD check results

There were no ERRORs, WARNINGs, or NOTEs.

## Downstream dependencies

No failures detected.
